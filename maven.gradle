def properties = new Properties()
def propsFile = file("$rootDir/publish.properties")
if (propsFile.exists()) {
    properties.load(propsFile.newInputStream())
}

ext.sonatype = [

        url     : properties["sonatype.url"]
                ?: "https://oss.sonatype.org/service/local/staging/deploy/maven2",

        username: findProperty("sonatypeUsername")?.toString()
                ?: properties["sonatype.user"]
                ?: System.getenv("SONATYPE_USERNAME"),

        password: findProperty("sonatypePassword")?.toString()
                ?: properties["sonatype.password"]
                ?: System.getenv("SONATYPE_PASS")
]